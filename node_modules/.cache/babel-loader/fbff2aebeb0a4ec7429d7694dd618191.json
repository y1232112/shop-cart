{"ast":null,"code":"import React from'react';import OnlyCartHeader from'../components/OnlyCartHeader';import{store}from'../index';import{connect}from'react-redux';import Cart from'../components/Cart';var CartContainer=function CartContainer(_ref){var showcart=_ref.showcart,cartProduct=_ref.cartProduct,totalprice=_ref.totalprice,cartnums=_ref.cartnums;var getShow=function getShow(showcart){if(showcart===false){return'none';}else return'block';};var cartStyle={width:'400px',height:'100%',textAlign:'center',position:'fixed',top:0,right:0,zIndex:999,display:getShow(showcart)};var wrapStyle={width:'400px',height:'100%',display:'flex',flexWrap:'wrap'};var contentStyle={width:'370px',height:'100%',backgroundColor:'black'};var allItemStyle={width:'370px',height:'80%',backgroundColor:'black',overflow:'auto'};var checkedOutStyle={width:'370px',height:'15%',color:'white',border:'none'};/* 数组去重 */var list=new Set(cartProduct);var plist=Array.from(list);/*  */var cartid=[];for(var i=0;i<cartProduct.length;i++){cartid.push(cartProduct[i].id);}var getNums=function getNums(n){var pItemNums=0;for(var i=0;i<cartid.length;i++){if(cartid[i]==n){pItemNums=pItemNums+1;}}return pItemNums;};return React.createElement(\"div\",{style:cartStyle},React.createElement(\"div\",{style:wrapStyle},React.createElement(\"button\",{style:{width:'30px',height:'30px',backgroundColor:'black',border:'none',margin:0,padding:0},onClick:function onClick(){store.dispatch({type:'SHOW_CART',showcart:showcart});}},React.createElement(\"i\",{className:\"fa fa-close\",style:{fontSize:'28px',color:'white'}})),React.createElement(\"div\",{style:contentStyle},React.createElement(\"div\",{style:{width:'50px',height:'50px',margin:'0 auto'}},React.createElement(OnlyCartHeader,{productsQuans:cartnums}),console.log('cartcontainer_showcart',showcart)),React.createElement(\"div\",{style:allItemStyle},plist.map(function(cartProductOne){return React.createElement(Cart,{key:cartProductOne.id,img:cartProductOne.img,title:cartProductOne.title,price:cartProductOne.price,currentNums:getNums(cartProductOne.id)});})),console.log('cartProduct___cart:',cartProduct),console.log('去重：',plist),console.log('id：',cartid),React.createElement(\"button\",{className:\"checkoutbtn\",style:checkedOutStyle},React.createElement(\"div\",null,\"$ \",totalprice),\"CHECKOUT\"))));};var mapStateToProps=function mapStateToProps(state){return{cartnums:state.cartProduct.length,cartProduct:state.cartProduct,totalprice:state.totalprice};};export default connect(mapStateToProps)(CartContainer);","map":{"version":3,"sources":["E:/shop-cart/src/containers/CartContainer.js"],"names":["React","OnlyCartHeader","store","connect","Cart","CartContainer","showcart","cartProduct","totalprice","cartnums","getShow","cartStyle","width","height","textAlign","position","top","right","zIndex","display","wrapStyle","flexWrap","contentStyle","backgroundColor","allItemStyle","overflow","checkedOutStyle","color","border","list","Set","plist","Array","from","cartid","i","length","push","id","getNums","n","pItemNums","margin","padding","dispatch","type","fontSize","console","log","map","cartProductOne","img","title","price","mapStateToProps","state"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport OnlyCartHeader from '../components/OnlyCartHeader';\r\nimport {store} from '../index';\r\nimport { connect } from 'react-redux';\r\nimport Cart from '../components/Cart';\r\n\r\nconst CartContainer=({showcart,cartProduct,totalprice,cartnums})=>{\r\n   \r\n    \r\n  var getShow=showcart=>{\r\n      if(showcart===false){\r\n          return 'none'\r\n      }else return 'block'\r\n  };\r\n\r\n \r\n        const cartStyle={\r\n            width:'400px',\r\n            height:'100%',\r\n            textAlign:'center',\r\n          \r\n            position:'fixed',\r\n            top:0,\r\n            right:0,\r\n            zIndex:999,\r\n            display:getShow(showcart)\r\n        }\r\n        const wrapStyle={\r\n            width:'400px',\r\n            height:'100%',\r\n            display:'flex',\r\n            flexWrap:'wrap'\r\n        }\r\n        const contentStyle={\r\n            width:'370px',\r\n            height:'100%',\r\n            backgroundColor:'black',\r\n        }\r\n        const allItemStyle={\r\n            width:'370px',\r\n            height:'80%',\r\n            backgroundColor:'black',\r\n            overflow:'auto',\r\n\r\n        }\r\n        const checkedOutStyle={\r\n            width:'370px',\r\n            height:'15%',\r\n         \r\n            color:'white',\r\n            border:'none'\r\n        }\r\n        /* 数组去重 */\r\n        var list=new Set(cartProduct);\r\n        var plist=Array.from(list); \r\n\r\n       /*  */\r\n       var cartid=[]\r\n       for(var i=0;i<cartProduct.length;i++){\r\n           cartid.push(cartProduct[i].id)\r\n       }\r\n      \r\n       var getNums=(n)=>{\r\n        var   pItemNums=0;\r\n        for(var i=0;i<cartid.length;i++){\r\n           if( cartid[i]==n){pItemNums=pItemNums+1}\r\n        \r\n        }\r\n\r\n           return pItemNums\r\n       };\r\n\r\n\r\n        return <div style={cartStyle}>\r\n               <div style={wrapStyle}>\r\n                   <button style={{width:'30px',height:'30px',backgroundColor:'black',border:'none',margin:0,padding:0}}\r\n                           onClick={()=>{  store.dispatch({type:'SHOW_CART',showcart})}}\r\n                    \r\n                   >\r\n                   <i className=\"fa fa-close\" style={{fontSize:'28px',color:'white'}}></i>\r\n                   </button>\r\n                 <div style={contentStyle}>  \r\n                    <div style={{width:'50px',height:'50px',margin:'0 auto'}}>\r\n                       <OnlyCartHeader productsQuans={cartnums}/>{console.log('cartcontainer_showcart',showcart)}\r\n                    </div>\r\n               {<div style={allItemStyle}>\r\n\r\n                   {\r\n                      \r\n                       plist.map(\r\n                       cartProductOne=>\r\n                        <Cart\r\n                        key={cartProductOne.id}\r\n                        img={cartProductOne.img}\r\n                        title={cartProductOne.title}\r\n                        price={cartProductOne.price}\r\n                        currentNums={getNums(cartProductOne.id)}\r\n                      \r\n                    />\r\n                   )}\r\n                </div>\r\n                }\r\n                    {console.log('cartProduct___cart:',cartProduct)}\r\n                    {console.log('去重：',plist)}\r\n   \r\n                    {console.log('id：',cartid)}\r\n                    <button className='checkoutbtn' style={checkedOutStyle}>\r\n                       <div>&#36; {totalprice}</div>\r\n                       CHECKOUT\r\n                    </button>\r\n                 </div>   \r\n              </div>\r\n        </div>\r\n    }\r\n    const mapStateToProps=state=>({\r\n       cartnums:state.cartProduct.length,\r\n        cartProduct:state.cartProduct,\r\n        totalprice:state.totalprice,\r\n      \r\n    })\r\n    \r\nexport default connect(mapStateToProps)(CartContainer) ;"]},"metadata":{},"sourceType":"module"}